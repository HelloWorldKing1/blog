# 软件架构设计

> 架构的本质
>
> - 软件架构为软件系统提供了一个**结构、行为和属性的高级抽象**
>
> - 软件架构风格是特定应用领域的**惯用模式**，架构定义一**个词汇表和一组约束**
>
> 架构的作用
>
> - 软甲架构师**项目干系人进行交流的手段**
> - 软件架构师**可传递和可复用的模型**，通过研究软件架构可能预测软件的质量
> - 软件架构使推理和控制的更改更加简单，**有助于循序渐进的原型设计**，可以作为培训的基础

![image-20220906111237125](软件架构设计/image-20220906111237125.png)

## 架构的4+1视图

![image-20220906111648932](软件架构设计/image-20220906111648932.png)

![image-20220906111803693](软件架构设计/image-20220906111803693.png)

## 软件架构风格

![image-20220906112030816](软件架构设计/image-20220906112030816.png)

### 数据流风格

![image-20220906112511046](软件架构设计/image-20220906112511046.png)

数据流风格两大分支：

1. 批处理序列：大量的**整体**数据、无需用户交互
2. 管道-过滤器：**流式数据**、弱用户交互

### 调用/返回风格

![image-20220906112827665](软件架构设计/image-20220906112827665.png)

![image-20220906112943079](软件架构设计/image-20220906112943079.png)

![image-20220906113302617](软件架构设计/image-20220906113302617.png)

![image-20220906113311500](软件架构设计/image-20220906113311500.png)

### 独立构件风格

![image-20220906113337253](软件架构设计/image-20220906113337253.png)

![image-20220906113715984](软件架构设计/image-20220906113715984.png)

### 虚拟机风格

![image-20220906131944209](软件架构设计/image-20220906131944209.png)

### 仓库风格

以数据为中心

![image-20220906132053385](软件架构设计/image-20220906132053385.png)

黑板系统

![image-20220906132155122](软件架构设计/image-20220906132155122.png)

和数据库风格的区别：增加了中心数据变动出发业务逻辑部件

![image-20220906132503994](软件架构设计/image-20220906132503994.png)

### 闭环控制架构（过程控制）

![image-20220906132719797](软件架构设计/image-20220906132719797.png)

### C2风格

![image-20220906133237382](软件架构设计/image-20220906133237382.png)

### 层次架构风格

![image-20220906140253478](软件架构设计/image-20220906140253478.png)

#### 两层C/S

![image-20220906140825911](软件架构设计/image-20220906140825911.png)

#### 三层C/S

![image-20220906140902203](软件架构设计/image-20220906140902203.png)

#### 三层B/S

![image-20220906141316902](软件架构设计/image-20220906141316902.png)

### RIA架构风格

RIA（富互联网结构）

![image-20220906152617133](软件架构设计/image-20220906152617133.png)

### SOA（面向服务架构）

![image-20220907102452358](软件架构设计/image-20220907102452358.png)

![image-20220907102624279](软件架构设计/image-20220907102624279.png)

- 服务构件**粗粒度**，传统构件细粒度居多
- 服务构件的**接口是标准**的，主要是**WSDL**接口，传统构件常以具体API形式出现
- 服务构件的实现**与语言无关**，传统构件绑定某种特定语言
- 服务构件可以通过构件容器提供**QoS**的服务，传统构件完全由程序代码直接控制

#### SOA的实现方式-WebService

![image-20220907103022344](软件架构设计/image-20220907103022344.png)

![image-20220907103805667](软件架构设计/image-20220907103805667.png)

#### SOA的实现方式-ESB

ESB（服务总线）：更倾向于把各种服务串联起来

![image-20220907103532065](软件架构设计/image-20220907103532065.png)

### 微服务

微服务架构是一种架构模式，它提倡将单一应用程序划分为一组小的服务，服务之间互相协调、互相配合，为用户提供最终价值。

特点

- 小，企鹅专注于做一件事情
- 轻量级的通信机制
- 松耦合、独立部署

![image-20220907104126087](软件架构设计/image-20220907104126087.png)

#### 微服务与SOA的区别

![image-20220907104255268](软件架构设计/image-20220907104255268.png)

![image-20220907104741773](软件架构设计/image-20220907104741773.png)

### ADL（架构描述语言）

![image-20220907104929227](软件架构设计/image-20220907104929227.png)

### DSSA（特定领域软件架构）

#### 基本活动

![image-20220907105044642](软件架构设计/image-20220907105044642.png)

#### 领域分析机制

![image-20220907143553835](软件架构设计/image-20220907143553835.png)

#### 三层次模型

![image-20220907143836962](软件架构设计/image-20220907143836962.png)

## 基于架构的软件开发方法（ABSD）

![image-20220907144043392](软件架构设计/image-20220907144043392.png)

### 开发过程

![image-20220907145728844](软件架构设计/image-20220907145728844.png)

![image-20220907145945293](软件架构设计/image-20220907145945293.png)

![image-20220907150001133](软件架构设计/image-20220907150001133.png)

## 架构评估

### 质量属性

![image-20220907150439548](软件架构设计/image-20220907150439548.png)

### 敏感点、权衡点、风险点、非风险点

![image-20220907152542737](软件架构设计/image-20220907152542737.png)

### 架构评估方法

![image-20220909104133382](软件架构设计/image-20220909104133382.png)

基于场景的主要架构评估方法

- 软件架构分析法（SAAM）
- 架构权衡分析法（ATAM）
- 成本效益分析法（CBAM）

#### SAAM

![image-20220909104758295](软件架构设计/image-20220909104758295.png)

#### ATAM

![image-20220909104845724](软件架构设计/image-20220909104845724.png)
